{"version":3,"file":"script.js","sources":["../library/Vec2.ts","../library/Particle.ts","../library/Forcefield.ts","colorSetting.ts","../library/toColorCode.ts","script.ts","../library/createBlobImg.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["Vec2","constructor","x","y","this","set","move","add","v","sub","mul","s","angle","Math","atan2","unit","length","sqrt","nv","temp","clone","toString","equal","Particle","args","p","r","color","a","Symbol","toStringTag","type","width","height","draw","ctx","save","beginPath","translate","arc","PI","fillStyle","fill","restore","Forcefield","value","affect","particle","delta","len","force","abs","maximum","g","b","count","colorSetting","Object","freeze","interval","total","toColorCode","padStart","color2ImageSource","Map","particles","Set","forcefields","mousePos","controls","randomV","randomR","ay","fade","size","clearForcefield","forcefieldsCtx","clearRect","forcefieldsCanvas","canvas","document","createElement","getContext","innerWidth","innerHeight","body","appendChild","async","center","supportBitmap","window","addBitmap","code","bitmap","createImageBitmap","img","Promise","resolve","Image","addEventListener","URL","revokeObjectURL","src","once","toBlob","blob","createObjectURL","createBlobImg","preRender","requestAnimationFrame","update","setInterval","fiexdUpdate","drawerForce","event","forcefield","drawerForcefields","gui","dat","GUI","step","stats","Stats","get","drawImage","floor","updateParticle","dead","delete","i","random","updateDisplay","push","showPanel","dom"],"mappings":"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"}